@* @model IEnumerable<Country> *@
@model CountryApp.Models.CountryViewModel
@{
    ViewData["title"] = "Country Page";
}

<h2>Store procedure</h2>

@* <form asp-action="Index" method="post">
    <div class="form-group">
        <label asp-for="CountryIdSearch">Country ID</label>
        <input asp-for="CountryIdSearch" class="form-control" />
        <span asp-validation-for="CountryIdSearch" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="CountryNameSearch">Country Name</label>
        <input asp-for="CountryNameSearch" class="form-control" />
        <span asp-validation-for="CountryNameSearch" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedCountryNames">Country Names (Multiselect)</label>
        <select asp-items="Model.CountryNameList" asp-for="SelectedCountryNames" class="form-control" multiple></select>
        <span asp-validation-for="SelectedCountryNames" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="CountryCodeSearch">Country Code</label>
        <input asp-for="CountryCodeSearch" class="form-control" />
        <span asp-validation-for="CountryCodeSearch" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedCountryCodes">Country Codes (Multiselect)</label>
        <select asp-items="Model.CountryCodeList" asp-for="SelectedCountryCodes" class="form-control" multiple></select>
        <span asp-validation-for="SelectedCountryCodes" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="ShortCodeSearch">Short Code</label>
        <input asp-for="ShortCodeSearch" class="form-control" />
        <span asp-validation-for="ShortCodeSearch" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedShortCodes">Short Codes (Multiselect)</label>
        <select asp-items="Model.ShortCodeList" asp-for="SelectedShortCodes" class="form-control" multiple></select>
        <span asp-validation-for="SelectedShortCodes" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="CurrencyCodeSearch">Currency Code</label>
        <input asp-for="CurrencyCodeSearch" class="form-control" />
        <span asp-validation-for="CurrencyCodeSearch" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedCurrencyCodes">Currency Codes (Multiselect)</label>
        <select asp-items="Model.CurrencyCodeList" asp-for="SelectedCurrencyCodes" class="form-control" multiple></select>
        <span asp-validation-for="SelectedCurrencyCodes" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="CurrencyNameSearch">Currency Name</label>
        <input asp-for="CurrencyNameSearch" class="form-control" />
        <span asp-validation-for="CurrencyNameSearch" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedCurrencyNames">Currency Names (Multiselect)</label>
        <select asp-items="Model.CurrencyNameList" asp-for="SelectedCurrencyNames" class="form-control" multiple></select>
        <span asp-validation-for="SelectedCurrencyNames" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="CurrencySymbolSearch">Currency Symbol</label>
        <input asp-for="CurrencySymbolSearch" class="form-control" />
        <span asp-validation-for="CurrencySymbolSearch" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedCurrencySymbols">Currency Symbols (Multiselect)</label>
        <select asp-items="Model.CurrencySymbolList" asp-for="SelectedCurrencySymbols" class="form-control" multiple></select>
        <span asp-validation-for="SelectedCurrencySymbols" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="CurrencyIdSearch">Currency ID</label>
        <input asp-for="CurrencyIdSearch" class="form-control" />
        <span asp-validation-for="CurrencyIdSearch" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="CountryShortCodeSearch">Country Short Code</label>
        <input asp-for="CountryShortCodeSearch" class="form-control" />
        <span asp-validation-for="CountryShortCodeSearch" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedCountryShortCodes">Country Short Codes (Multiselect)</label>
        <select asp-items="Model.CountryShortCodeList" asp-for="SelectedCountryShortCodes" class="form-control" multiple></select>
        <span asp-validation-for="SelectedCountryShortCodes" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="CountryAlpha3CodeSearch">Alpha 3 Code</label>
        <input asp-for="CountryAlpha3CodeSearch" class="form-control" />
        <span asp-validation-for="CountryAlpha3CodeSearch" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedAlpha3Codes">Alpha 3 Codes (Multiselect)</label>
        <select asp-items="Model.CountryAlpha3CodeList" asp-for="SelectedAlpha3Codes" class="form-control" multiple></select>
        <span asp-validation-for="SelectedAlpha3Codes" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="RiskScoreSearch">Risk Score</label>
        <input asp-for="RiskScoreSearch" value="@Model.RiskScoreSearch" class="form-control" />
        <span asp-validation-for="RiskScoreSearch" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedRiskScores">Risk Scores (Multiselect)</label>
        <select asp-items="Model.RiskScoreList" asp-for="SelectedRiskScores" class="form-control" multiple></select>
        <span asp-validation-for="SelectedRiskScores" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="IbanExistsSearch">IBAN Exists</label>
        <input asp-for="IbanExistsSearch" class="form-control" type="checkbox" value="true" />
        <span asp-validation-for="IbanExistsSearch" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedIbanExists">IBAN Exists (Multiselect)</label>
        <select asp-items="Model.IbanExistsList" asp-for="SelectedIbanExists" class="form-control" multiple></select>
        <span asp-validation-for="SelectedIbanExists" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="IbanLengthSearch">IBAN Length</label>
        <input asp-for="IbanLengthSearch" class="form-control" />
        <span asp-validation-for="IbanLengthSearch" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedIbanLengths">IBAN Lengths (Multiselect)</label>
        <select asp-items="Model.IbanLengthList" asp-for="SelectedIbanLengths" class="form-control" multiple></select>
        <span asp-validation-for="SelectedIbanLengths" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="DisplayNumberSearch">Display Number</label>
        <input asp-for="DisplayNumberSearch" class="form-control" />
        <span asp-validation-for="DisplayNumberSearch" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedDisplayNumbers">Display Numbers (Multiselect)</label>
        <select asp-items="Model.DisplayNumberList" asp-for="SelectedDisplayNumbers" class="form-control" multiple></select>
        <span asp-validation-for="SelectedDisplayNumbers" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-primary">Search</button>
</form> *@

@* <form method="get" asp-controller="SpCountry" asp-action="Index">
    <select asp-for="SelectedCountryCodes" asp-items="Model.CountryCodeList" class="form-control" multiple id="countryCodes"></select>

    <input type="number" name="CountryIdSearch" value="@Model.CountryIdSearch" placeholder="Search by ID" />
    <input type="text" name="CountryCodeSearch" value="@Model.CountryCodeSearch" placeholder="Search by Code" />
    <input type="text" name="CountryNameSearch" value="@Model.CountryNameSearch" placeholder="Search by Name" />
                            <input type="text" name="ShortCodeSearch" value="@Model.ShortCodeSearch" placeholder="Enter Short Code" class="form-control" />
                            <input type="text" name="CurrencyCodeSearch" value="@Model.CurrencyCodeSearch" placeholder="Enter Currency Code" class="form-control" />
                            <input type="text" name="CurrencyNameSearch" value="@Model.CurrencyNameSearch" placeholder="Enter Currency Name" class="form-control" />
                            @* <input type="text" name="CurrencySymbolSearch" value="@Model.CurrencySymbolSearch" placeholder="Enter Currency Symbol" class="form-control" /> 
    <input type="number" name="CurrencyIdSearch" value="@Model.CurrencyIdSearch" placeholder="Enter Currency ID" class="form-control" />
    <input type="text" name="CountryShortCodeSearch" value="@Model.CountryShortCodeSearch" placeholder="Enter Short Code" class="form-control" />
    <input type="text" name="CountryAlpha3CodeSearch" value="@Model.CountryAlpha3CodeSearch" placeholder="Enter Alpha3 Code" class="form-control" />
    <input type="text" name="RiskScoreSearch" value="@Model.RiskScoreSearch" placeholder="Enter Risk Score" class="form-control" />
    <input type="number" name="IbanLengthSearch" value="@Model.IbanLengthSearch" placeholder="Enter IBAN Length" class="form-control" />
    <input type="text" name="DisplayNumberSearch" value="@Model.DisplayNumberSearch" placeholder="Enter Display Number" class="form-control" />

    <button type="submit">Search</button>
</form>   *@






     <div class="accordion accordion-flush shadow-sm" id="accordionFlushExample">
    <!-- Accordion Item 1: Simple Search Inputs -->
    <div class="accordion-item border-0 rounded-3 mb-2">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed bg-light text-dark fw-semibold" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                <h6> <i class="fas fa-search me-2"></i> Simple Search Inputs </h6>
            </button>
        </h2>
        <div id="flush-collapseOne" class="accordion-collapse collapse @(Model.FromType == "Input" ? "show" : "")" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body bg-white">
                <form asp-action="Index" method="get" class="p-3">
                    <input type="hidden" name="FormType" value="Input" />
                    <div class="row g-3">
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Country ID</label>
                            <input type="number" name="CountryIdSearch" value="@Model.CountryIdSearch" placeholder="Enter Country ID" class="form-control" />
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Country Code</label>
                            <input type="text" name="CountryCodeSearch" value="@Model.CountryCodeSearch" placeholder="Enter Country Code" class="form-control" />
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Country Name</label>
                            <input type="text" name="CountryNameSearch" value="@Model.CountryNameSearch" placeholder="Enter Country Name" class="form-control" />
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Short Code</label>
                            <input type="text" name="ShortCodeSearch" value="@Model.ShortCodeSearch" placeholder="Enter Short Code" class="form-control" />
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Currency Code</label>
                            <input type="text" name="CurrencyCodeSearch" value="@Model.CurrencyCodeSearch" placeholder="Enter Currency Code" class="form-control" />
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Currency Name</label>
                            <input type="text" name="CurrencyNameSearch" value="@Model.CurrencyNameSearch" placeholder="Enter Currency Name" class="form-control" />
                        </div>
                        @*  <div class="col-md-2">
                            <label class="form-label fw-medium">Currency Symbol</label>
                            <input type="text" name="CurrencySymbolSearch" value="@Model.CurrencySymbolSearch" placeholder="Enter Currency Symbol" class="form-control" />
                        </div>    *@
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Currency ID</label>
                            <input type="number" name="CurrencyIdSearch" value="@Model.CurrencyIdSearch" placeholder="Enter Currency ID" class="form-control" />
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Country Short Code</label>
                            <input type="text" name="CountryShortCodeSearch" value="@Model.CountryShortCodeSearch" placeholder="Enter Short Code" class="form-control" />
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Country Alpha3 Code</label>
                            <input type="text" name="CountryAlpha3CodeSearch" value="@Model.CountryAlpha3CodeSearch" placeholder="Enter Alpha3 Code" class="form-control" />
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Risk Score</label>
                            <input type="text" name="RiskScoreSearch" value="@Model.RiskScoreSearch" placeholder="Enter Risk Score" class="form-control" />
                            <span asp-validation-for="RiskScoreSearch" class="text-danger"></span>

                        </div>
                          <div class="col-md-2">
                            <label class="form-label fw-medium">IBAN Exists</label>
                            <select name="IbanExistsSearch" class="form-control">
                                <option value="">Select</option>
                                <option value="True">True</option>
                                <option value="False">False</option>
                            </select>
                        </div>   
                        <div class="col-md-2">
                            <label class="form-label fw-medium">IBAN Length</label>
                            <input type="number" name="IbanLengthSearch" value="@Model.IbanLengthSearch" placeholder="Enter IBAN Length" class="form-control" />

                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Display Number</label>
                            <input type="text" name="DisplayNumberSearch" value="@Model.DisplayNumberSearch" placeholder="Enter Display Number" class="form-control" />
                        </div>
                    </div>
                    <div class="mt-4 d-flex gap-2">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-search me-2"></i>Search</button>
                        <a asp-action="Index" class="btn btn-outline-secondary"><i class="fas fa-undo me-2"></i>Reset</a>
                    </div>
                </form>
            </div>
        </div>
    </div> 
     
    <!-- Accordion Item 2: Multiselect Dropdowns -->
    <div class="accordion-item border-0 rounded-3 mb-2">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed bg-light text-dark fw-semibold" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                <h6><i class="fas fa-list-ul me-2"></i>  Multiselect Dropdowns</h6>
            </button>
        </h2>
        <div id="flush-collapseTwo" class="accordion-collapse collapse @(Model.FromType == "Dropdown" ? "show" : " ")" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body bg-white">
                <form asp-action="Index" method="get" class="p-3">
                    <input type="hidden" name="FormType" value="Dropdown" />

                    <div class="row g-3">
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Country ID</label>
                            <select asp-for="SelectedCountryIds" asp-items="Model.CountryIdList" class="form-control" multiple id="countryIds"></select>
                        </div> 
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Country Code</label>
                            <select asp-for="SelectedCountryCodes" asp-items="Model.CountryCodeList" class="form-control" multiple id="countryCodes"></select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Country Name</label>
                            <select asp-for="SelectedCountryNames" asp-items="Model.CountryNameList" class="form-control" multiple id="countryNames"></select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Short Code</label>
                            <select asp-for="SelectedShortCodes" asp-items="Model.ShortCodeList" class="form-control" multiple id="ShortCodes"></select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Currency Code</label>
                            <select asp-for="SelectedCurrencyCodes" asp-items="Model.CurrencyCodeList" class="form-control" multiple id="currencyCodes"></select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Currency Name</label>
                            <select asp-for="SelectedCurrencyNames" asp-items="Model.CurrencyNameList" class="form-control" multiple id="currencyNames"></select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Currency Symbol</label>
                            <select asp-for="SelectedCurrencySymbols" asp-items="Model.CurrencySymbolList" class="form-control" multiple id="currencySymbols"></select>
                        </div>
                         <div class="col-md-2">
                            <label class="form-label fw-medium">Currency ID</label>
                            <select asp-for="SelectedCurrencyIds" asp-items="Model.CurrencyIdList" class="form-control" multiple id="currencyId"></select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Country Short Code</label>
                            <select asp-for="SelectedCountryShortCodes" asp-items="Model.CountryShortCodeList" class="form-control" multiple id="countryShortCodes"></select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Country Alpha3 Code</label>
                            <select asp-for="SelectedAlpha3Codes" asp-items="Model.CountryAlpha3CodeList" class="form-control" multiple id="countryAlphacode"></select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Risk Score</label>
                            <select asp-for="SelectedRiskScores" asp-items="Model.RiskScoreList" class="form-control" multiple id="riskscore"></select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">IBAN Exists</label>
                            <select name="IbanExistsSearch" class="form-control">
                                <option value="">Select</option>
                                <option value="True">True</option>
                                <option value="False">False</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">IBAN Length</label>
                            <select asp-for="SelectedIbanLengths" asp-items="Model.IbanLengthList" class="form-control" multiple id="ibanlength"></select>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label fw-medium">Display Number</label>
                            <select asp-for="SelectedDisplayNumbers" asp-items="Model.DisplayNumberList" class="form-control" multiple id="displaynumber"></select>
                        </div>
                    </div>
                    <div class="mt-4 d-flex gap-2">
                        <button type="submit" class="btn btn-primary"><i class="fas fa-search me-2"></i>Search</button>
                        <a asp-action="Index" class="btn btn-outline-secondary"><i class="fas fa-undo me-2"></i>Reset</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>



<div class="table-responsive mt-4 shadow-sm rounded-3 overflow-hidden">
    <table class="table table-striped table-hover mb-0">
        <thead class="table-dark">
            <tr>
                <th>Country ID</th>
                <th>Country Code</th>
                <th>Country Name</th>
                <th>Short Code</th>
                <th>Currency Code</th>
                <th>Currency Name</th>
                <th>Currency Symbol</th>
                <th>Currency ID</th>
                <th>Country Short Code</th>
                <th>Country Alpha3 Code</th>
                <th>Risk Score</th>
                <th>IBAN Exists</th>
                <th>IBAN Length</th>
                <th>Display Number</th>
            </tr>
        </thead>
        <tbody class="text-center">
            @foreach (var item in Model.Countries)
            {
                <tr>
                    <td>@item.CountryId</td>
                    <td>@item.CountryCode</td>
                    <td>@item.CountryName</td>
                    <td>@item.ShortCode</td>
                    <td>@item.CurrencyCode</td>
                    <td>@item.CurrencyName</td>
                    <td>@item.CurrencySymbol</td>
                    <td>@item.CurrencyId</td>
                    <td>@item.CountryShortCode</td>
                    <td>@item.CountryAlpha3Code</td>
                    <td>@item.RiskScore</td>
                    <td>@item.Ibanexist</td>
                    <td>@(item.Ibanlength > 0 ? item.Ibanlength : 0)</td>
                    <td>@item.DisplayNumber</td>
                </tr>
            }
        </tbody>
    </table>
</div>


@section Scripts {
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.13/css/bootstrap-multiselect.css" rel="stylesheet" type="text/css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.13/js/bootstrap-multiselect.js" type="text/javascript"></script>

    <script>
        $(document).ready(function () {
            $('#countryIds, #countryCodes, #countryNames, #ShortCodes, #currencyCodes, #currencyNames, #currencySymbols, #currencyId, #countryShortCodes, #countryAlphacode, #riskscore, #ibanlength, #displaynumber').multiselect({
                includeSelectAllOption: true,
                buttonWidth: '100%',
                maxHeight: 300,
                enableFiltering: true,
                enableCaseInsensitiveFiltering: true,

            });
        });
    </script>
}