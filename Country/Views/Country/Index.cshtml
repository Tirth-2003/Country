
@* @model IEnumerable<CountryApp.Models.Country> *@
@model CountryApp.Models.CountryFilterViewModel
@{
    ViewData["Title"] = "Country";
}

<h2 class="text-center font-monospace">Country</h2>


@* <div class="accordion accordion-flush" id="accordionFlushExample">
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingOne">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                Search Input
            </button>
        </h2>
        <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
                <form asp-action="Index" method="get">
                    <div class="row">

                        <div class="col-3">

                            <label>Country ID</label>
                            <select asp-for="SelectedCountryId" asp-items="Model.CountryIdList" class="form-control" multiple id="countryIds"></select>
                            <input type="number" name="CountryIdSearch" value="@Model.CountryIdSearch" placeholder="Country ID" class="form-control" />
                        </div>
                        <div class="col-3">
                            <label>Country Name (Multi-Select)</label>
                            <select asp-for="SelectedCountryNames" asp-items="Model.CountryNameList" class="form-control" multiple id="countryNames"></select>
                            <input type="text" class="form-control mt-1" name="CountryNameSearch" value="@Model.CountryNameSearch" placeholder="Type Country Name" />
                        </div>

                        <div class="col-3">
                            <label>Currency Code (Multi-Select)</label>
                            <select asp-for="SelectedCurrencyCodes" asp-items="Model.CurrencyCodeList" class="form-control" multiple id="currencyCodes"></select>
                            <input type="text" class="form-control mt-1" name="CurrencyCodeSearch" value="@Model.CurrencyCodeSearch" placeholder="Type Currency Code" />
                        </div>

                        <div class="col-3">
                            <label>Currency Symbol (Multi-Select)</label>
                            <select asp-for="SelectedCurrencySymbols" asp-items="Model.CurrencySymbolList" class="form-control" multiple id="currencySymbols"></select>
                            <input type="text" class="form-control mt-1" name="CurrencySymbolSearch" value="@Model.CurrencySymbolSearch" placeholder="Type Currency Symbol" />
                        </div>
                    </div>

                    <div class="mt-3">
                        <input type="submit" value="Search" class="btn btn-primary" />
                    </div>
                </form>

            </div>
        </div>
    </div>
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                Multiselect Dropdown Search
            </button>
        </h2>
        <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" >
            <div class="accordion-body">
                <form asp-action="Index" method="get">
                    <div class="row">

                        <div class="col-3">

                            <label>Country ID</label>
                            <select asp-for="SelectedCountryId" asp-items="Model.CountryIdList" class="form-control" multiple id="countryIds"></select>

                            <input type="number" name="CountryIdSearch" value="@Model.CountryIdSearch" placeholder="Country ID" class="form-control" />
                        </div>
                        <div class="col-3">
                            <label>Country Name (Multi-Select)</label>
                            <select asp-for="SelectedCountryNames" asp-items="Model.CountryNameList" class="form-control" multiple id="countryNames"></select>
                            <input type="text" class="form-control mt-1" name="CountryNameSearch" value="@Model.CountryNameSearch" placeholder="Type Country Name" />
                        </div>

                        <div class="col-3">
                            <label>Currency Code (Multi-Select)</label>
                            <select asp-for="SelectedCurrencyCodes" asp-items="Model.CurrencyCodeList" class="form-control" multiple id="currencyCodes"></select>
                            <input type="text" class="form-control mt-1" name="CurrencyCodeSearch" value="@Model.CurrencyCodeSearch" placeholder="Type Currency Code" />
                        </div>

                        <div class="col-3">
                            <label>Currency Symbol (Multi-Select)</label>
                            <select asp-for="SelectedCurrencySymbols" asp-items="Model.CurrencySymbolList" class="form-control" multiple id="currencySymbols"></select>
                            <input type="text" class="form-control mt-1" name="CurrencySymbolSearch" value="@Model.CurrencySymbolSearch" placeholder="Type Currency Symbol" />
                        </div>

                    </div>

                    <div class="mt-3">
                        <input type="submit" value="Search" class="btn btn-primary" />
                    </div>
                </form>
            </div>
        </div>
    </div>
    
</div> *@

 <form asp-action="Index" method="get">
        <div class="row">

            <div class="col-3">
                
                <label>Country ID</label>
                <select asp-for="SelectedCountryId" asp-items="Model.CountryIdList" class="form-control" multiple id="countryIds"></select>

                <input type="number" name="CountryIdSearch" value="@Model.CountryIdSearch" placeholder="Country ID" class="form-control" />
            </div>
            <div class="col-3">
                <label>Country Name (Multi-Select)</label>
                <select asp-for="SelectedCountryNames" asp-items="Model.CountryNameList" class="form-control" multiple id="countryNames"></select>
                <input type="text" class="form-control mt-1" name="CountryNameSearch" value="@Model.CountryNameSearch" placeholder="Type Country Name" />
            </div>

            <div class="col-3">
                <label>Currency Code (Multi-Select)</label>
                <select asp-for="SelectedCurrencyCodes" asp-items="Model.CurrencyCodeList" class="form-control" multiple id="currencyCodes"></select>
                <input type="text" class="form-control mt-1" name="CurrencyCodeSearch" value="@Model.CurrencyCodeSearch" placeholder="Type Currency Code" />
            </div>

            <div class="col-3">
                <label>Currency Symbol (Multi-Select)</label>
                <select asp-for="SelectedCurrencySymbols" asp-items="Model.CurrencySymbolList" class="form-control" multiple id="currencySymbols"></select>
                <input type="text" class="form-control mt-1" name="CurrencySymbolSearch" value="@Model.CurrencySymbolSearch" placeholder="Type Currency Symbol" />
            </div>
        </div>

        <div class="mt-3">
            <input type="submit" value="Search" class="btn btn-primary" />
        </div>
    </form>

@* <form asp-action="Index" method="get">
    <div class="row">
        <div class="col-md-4 mt-2">
            <label>Country Name</label>
            <select id="SelectedCountryNames" name="SelectedCountryNames" multiple class="form-control">
                @foreach (var item in Model.CountryNameList)
                {
                    <option value="@item.Value" selected="@(Model.SelectedCountryNames?.Contains(item.Value) == true)">
                        @item.Text
                    </option>
                }
            </select>
        </div>
        <div class="col-md-4 mt-2">
            <label>Currency Code</label>
            <select id="SelectedCurrencyCodes" name="SelectedCurrencyCodes" multiple class="form-control">
                @foreach (var item in Model.CurrencyCodeList)
                {
                    <option value="@item.Value" selected="@(Model.SelectedCurrencyCodes?.Contains(item.Value) == true)">
                        @item.Text
                    </option>
                }
            </select>
        </div>
        <div class="col-md-4 mt-2">
            <label>Currency Name</label>
            <select id="SelectedCurrencyNames" name="SelectedCurrencyNames" multiple class="form-control">
                @foreach (var item in Model.CurrencyNameList)
                {
                    <option value="@item.Value" selected="@(Model.SelectedCurrencyNames?.Contains(item.Value) == true)">
                        @item.Text
                    </option>
                }
            </select>
        </div>
        <div class="col-md-4 mt-2">
            <label>Currency Symbol</label>
            <select id="SelectedCurrencySymbols" name="SelectedCurrencySymbols" multiple class="form-control">
                @foreach (var item in Model.CurrencySymbolList)
                {
                    <option value="@item.Value" selected="@(Model.SelectedCurrencySymbols?.Contains(item.Value) == true)">
                        @item.Text
                    </option>
                }
            </select>
        </div>
        <div class="col-md-4 mt-2">
            <label>Country Code</label>
            <select id="SelectedCountryCodes" name="SelectedCountryCodes" multiple class="form-control">
                @foreach (var item in Model.CountryCodeList)
                {
                    <option value="@item.Value" selected="@(Model.SelectedCountryCodes?.Contains(item.Value) == true)">
                        @item.Text
                    </option>
                }
            </select>
        </div>
        <div class="col-md-4 mt-2">
            <label>Country Alpha3 Code</label>
            <select id="SelectedAlpha3Codes" name="SelectedAlpha3Codes" multiple class="form-control">
                @foreach (var item in Model.CountryAlpha3CodeList)
                {
                    <option value="@item.Value" selected="@(Model.SelectedAlpha3Codes?.Contains(item.Value) == true)">
                        @item.Text
                    </option>
                }
            </select>
        </div>
    </div>

    <div class="mt-3">
        <button type="submit" class="btn btn-primary">Search</button>
    </div>
</form> *@


<div class="table-responsive">
<table class="table table-striped">
    <thead class="table-dark">
        <tr>
            <th>CountryID</th>
            <th>CountryCode</th>
            <th>CountryName</th>
            <th>ShortCode</th>
            <th>CurrencyCode</th>
            <th>CurrencyName</th>
            <th>CurrencySymbol</th>
            <th>CurrencyId</th>
            <th>CountryShortCode</th>
            <th>CountryAlpha3Code</th>
            <th>RiskScore</th>
            <th>IBANexist</th>
            <th>IBANlength</th>
            <th>DisplayNumber</th>
        </tr>
    </thead>
    <tbody class="text-center">
        @foreach (var item in Model.Countries)
        {
            <tr>
                <td>@item.CountryId</td>
                <td>@item.CountryCode</td>
                <td>@item.CountryName</td>
                <td>@item.ShortCode</td>
                <td>@item.CurrencyCode</td>
                <td>@item.CurrencyName</td>
                <td>@item.CurrencySymbol</td>
                <td>@item.CurrencyId</td>
                <td>@item.CountryShortCode</td>
                <td>@item.CountryAlpha3Code</td>
                <td>@item.RiskScore</td>
                <td>@item.Ibanexist</td>
                <td>@(item.Ibanlength > 0 ? item.Ibanlength : 0)</td>
                <td>@item.DisplayNumber</td>
            </tr>
        }
    </tbody>
</table>
</div>

@section Scripts {
     <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script>
        $(function () {
            $('#countryNames, #currencyCodes, #currencySymbols, #countryIds').select2({
                placeholder: "Select items",
                width: '100%'
            });
        });
        
    </script>

   
}